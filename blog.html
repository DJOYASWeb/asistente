
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blog</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
</head>

<body data-theme="light">
  <div class="overlay" id="overlay" onclick="closeMobileSidebar()"></div>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <div>
      <h2 onclick="toggleSidebar()" data-tooltip="Dashboard">
        <span class="icon"><i class="fas fa-bars"></i></span>
        <span class="label">Dashboard</span>
      </h2>
      <nav>
        <a href="dashboard.html" data-tooltip="Inicio"><span class="icon"><i class="fas fa-home"></i></span><span class="label">Inicio</span></a>
        <a href="blog.html" data-tooltip="blog"><span class="icon"><i class="fas fa-flask"></i></span><span class="label">DJOYAS Blog</span></a>
        <a href="#" data-tooltip="Uso"><span class="icon"><i class="fas fa-chart-line"></i></span><span class="label">Descripciones</span></a>
        <a href="inspira.html" data-tooltip="FacturaciÃ³n"><span class="icon"><i class="fas fa-credit-card"></i></span><span class="label">DJOYAS Inspira</span></a>
      </nav>
    </div>
    <div class="bottom-links">
      <a href="tareas.html" data-tab="tareas" data-tooltip="Tareas Diarias"><span class="icon"><i class="fas fa-list-check"></i></span><span class="label">Tareas Diarias</span></a>
      <a href="#" data-tooltip="Por definir"><span class="icon"><i class="fas fa-cube"></i></span><span class="label">Calendario</span></a>
      <a href="settings.html" data-tooltip="ConfiguraciÃ³n"><span class="icon"><i class="fas fa-cog"></i></span><span class="label">ConfiguraciÃ³n</span></a>
    </div>
  </div>

  <!-- Contenido principal -->
  <div class="main-content">
    <div class="topbar">
      <button class="menu-btn" onclick="toggleMobileSidebar()">â˜°</button>
      <div class="profile-section">
        <img src="https://i.pravatar.cc/300" alt="Perfil" class="profile-img" id="avatar" onclick="toggleDropdown()" />
        <div class="dropdown-menu" id="dropdown">
          <div class="user-info">
            <div class="user-name"><strong id="userName">Juan PÃ©rez</strong></div>
            <div class="user-email"><span id="userEmail">juan@correo.com</span></div>
          </div>
          <div class="theme-switch" onclick="toggleTheme()">
            <span class="switch-icon" id="theme-icon">ğŸŒ™</span>
            <span class="switch-label">Modo oscuro</span>
          </div>
          <a href="settings.html">ConfiguraciÃ³n</a>
          <a href="#" onclick="logout()">Cerrar sesiÃ³n</a>
        </div>
      </div>
    </div>

      <!-- Popup iOS personalizado -->

  <div class="tab-header">
    <button class="tab-btn active" id="btnCrear" onclick="showTab('crear')">Crear</button>
    <button class="tab-btn" id="btnRedactar" onclick="showTab('redactar')">Redactar</button>
        <button class="tab-btn" id="btnCalendario" onclick="showTab('calendario')">Calendario</button>
  </div>
<div class="container">
  <div class="tab-content-ios">

    <!-- TAB CREAR -->    
<div id="crear" class="tab-section">
<div class="container ios-card mb-5">
  <h1>Generador de Blog DJOYAS</h1>

  <!-- ENCABEZADO -->
  <div class="row">
    <div class="col-lg-6 col-12">
      <label>ğŸ“Œ TÃTULO DEL BLOG:</label>
      <input class="form-control" type="text" id="titulo" placeholder="Ingresa el tÃ­tulo del blog">
    </div>
    <div class="col-lg-6 col-12">
      <label>ğŸ“† FECHA DE PUBLICACIÃ“N:</label>
      <input class="form-control" type="text" id="fecha" placeholder="Ingresa la fecha del blog">
    </div>
  </div>

  <div class="row pt-3">
    <div class="col-lg-6 col-12">
      <label>ğŸ‘©â€ğŸ’» AUTOR/A:</label>
      <select class="form-control" id="autor">
        <option value="SofÃ­a de DJOYAS">SofÃ­a de DJOYAS</option>
        <option value="Camila de DJOYAS">Sandra Conejeros</option>
      </select>
    </div>
    <div class="col-lg-6 col-12">
      <label>ğŸ·ï¸ CATEGORÃA:</label>
      <select class="form-control" id="categoria">
        <option value="Emprendimiento">Emprendimiento</option>
        <option value="SabÃ­as que?">SabÃ­as que?</option>
        <option value="Cuidado y Mantenimiento">Cuidado y Mantenimiento</option>
        <option value="InnovaciÃ³n">InnovaciÃ³n</option>
        <option value="Beneficios">Beneficios</option>
        <option value="Sustentable">Sustentable</option>
        <option value="Tips">Tips</option>
        <option value="Tendencias">Tendencias</option>
      </select>
    </div>
  </div>
  <div class="row pt-3">
    <div class="col-lg-6 col-12">
  <label>ğŸ–¼ï¸ URL DE LA IMAGEN PRINCIPAL:</label>
  <input class="form-control" type="text" id="imagen" placeholder="Ingresa la url de la imagen">
</div>
<div class="col-lg-6 col-12">
  <label>ğŸ”¤ Texto ALT de la imagen:</label>
  <input class="form-control" type="text" id="altImagen" placeholder="Ingresa la descripcion de la imagen">
</div>
</div>
  <!-- CUERPO -->
   <section class="cuerpo py-3">
 <div class="row alinear py-3">
 <div class="col-lg-6 col-12">
       <label>ğŸ’ CUERPO DEL BLOG:</label>
 </div>
 </div>
     <textarea id="cuerpo" rows="6"></textarea>
   </section>


  <!-- NAVEGACIÃ“N -->
   <section class="navegacion py-5">
    <div class="row">
      <div class="col-lg-6 col-12">
        <h3>ğŸ”™ Blog Anterior</h3>
        <label>Seleccionar blog anterior:</label>
        <select class="form-control" id="selectAnterior"></select>
      </div>
      <div class="col-lg-6 col-12">
        <h3>ğŸ”œ Blog Siguiente</h3>
        <label>Seleccionar blog siguiente:</label>
        <select class="form-control" id="selectSiguiente"></select>
      </div>
</div>
</section>



  <!-- DESTACADOS -->
   <section class="destacados py-5">
  <h3>ğŸŒŸ Blogs Destacados</h3>
     <div class="row">
       <div class="col-12">  <label>Destacado 1</label>
  <select class="form-control" id="select1"></select></div>
       <div class="col-12">  <label>Destacado 2</label>
  <select class="form-control" id="select2"></select></div>
       <div class="col-12">  <label>Destacado 3</label>
  <select class="form-control" id="select3"></select></div>
     </div>
</section>
<div class="generar py-3">
  <button onclick="generarHTML()">Generar HTML</button>
</div>


<section class="resultado pt-5">
  <h2>ğŸ“‹ CÃ³digo generado:</h2>
    <button class="btn-copy" onclick="copiarHTML()">ğŸ“‹ Copiar al portapapeles</button>
  <pre id="resultado"></pre>
</section>
</div>
        </div>





    <!-- TAB REDACTAR -->    
 <div id="redactar" class="tab-section d-none">
   <div class="container ios-card mb-5">
<h1>Conversor de BLOGS</h1>

<label for="inputTexto">ğŸ“„ Pega el cuerpo del blog (texto plano):</label>
<textarea id="inputTexto" rows="30" placeholder="Pega aquÃ­ tu contenido tal como lo escribes..."></textarea>

<button onclick="convertirHTML()">Convertir a HTML</button>
<div class="row alinear mt-5">
  <div class="col-lg-6 col-12">
    <h2>ğŸ“‹ Formato  HTML:</h2>
  </div>
  <div class="col-lg-6 col-12">
<button class="btn-copy" onclick="copiarResultado()">ğŸ“‹ Copiar HTML</button>
  </div>
</div>



<pre id="resultadoHTML"></pre>
        </div>
      </div>


 <div id="calendario" class="tab-section d-none">







   <div class="top-bar">
    <h2>ğŸ“‹ GestiÃ³n de Datos</h2>
    <div class="buttons row alinear">
<div class="col-lg-8 col-12 filtro"><input class="form-control" type="text" id="filtroTexto" placeholder="ğŸ” Buscar..." oninput="filtrarTabla()"></div>
<div class="col-lg-3 col-12"><button class="btn btn-primary" onclick="abrirModalAgregarDato()">â• Agregar Blog</button></div>
<div class="col-lg-1 col-12"><button class="btn btn-outline-primary" onclick="cargarDatosDesdeFirestore()">ğŸ”„</button>
</div>
</div>
  </div>
    
  <div id="contenedorTabla" class="ios-card">
    <table id="tablaDatos">
      <thead>
        <tr>
          <th>ID</th>
          <th id="NombreBlog">Nombre</th>
          <th class="movil">Estado</th>
          <th class="movil contenido">Contenido</th>
          <th class="movil">Fecha</th>
          <th class="movil">CategorÃ­a</th>
          <th class="movil">Acciones</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <!-- JS agregarÃ¡ filas aquÃ­ -->
      </tbody>
    </table>
  </div>
  
<!-- Modal para Agregar Dato -->
<div id="modalAgregarDato" class="alinear" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999;">
  <div style="background:white; max-width:80%; width:90%; padding:2rem; border-radius:16px; position:relative; overflow:auto;">
    <button class="btn-close position-absolute end-0 top-0 m-3" onclick="cerrarModalAgregarDato()"></button>
    <h3 class="mb-4">â• Agregar Nuevo Dato</h3>
    
<div class="row">
<div class="col-lg-6 col-12">
<div class="contenido-left">
<span>ID de Blog</span>
<input type="number" id="nuevoId" class="form-control mb-3" placeholder="ID">
<span>Nombre de Blog</span>
<input type="text" id="nuevoNombre" class="form-control mb-3" placeholder="Nombre">
<span>Estado de Blog</span>
<select id="nuevoEstado" class="form-control mb-3">
      <option value="">Selecciona estado</option>
      <option value="transcrito">Transcrito</option>
      <option value="pendiente">Pendiente</option>
      <option value="reescribir">Reescribir</option>
    </select>
 <span>Fecha de Blog</span>   
    <input type="date" id="nuevaFecha" class="form-control mb-3">
    <select id="nuevaCategoria" class="form-control mb-3">
      <option value="">Selecciona categorÃ­a</option>
      <option value="Tips">Tips</option>
      <option value="Emprendimiento">Emprendimiento</option>
      <option value="SabÃ­as que?">SabÃ­as que?</option>
      <option value="Beneficios">Beneficios</option>
      <option value="Tendencias">Tendencias</option>
      <option value="Cuidado y Mantenimiento">Cuidado y Mantenimiento</option>
      <option value="Sustentable">Sustentable</option>
      <option value="InnovaciÃ³n">InnovaciÃ³n</option>
    </select>

</div>
</div>
<div class="col-lg-6 col-12">
<div class="contenido-right">
  <span>Contenido de Blog</span>
    <textarea id="nuevoBlog" class="form-control mb-3" placeholder="Contenido del blog" rows="3" style="resize:none;"></textarea>
    <span>Meta DescripciÃ³n</span>
    <textarea id="nuevoMeta" class="form-control mb-3" placeholder="Meta descripciÃ³n" style="height: 150px;"></textarea>

</div>
</div>
</div>
    <button class="btn btn-primary w-100" onclick="agregarNuevoDato()">Guardar</button>
 </div>
</div>

<!-- Modal Confirmar EliminaciÃ³n -->
<div class="alinear" id="modalConfirmarEliminar" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999;">
  <div style="background:white; max-width:400px; width:90%; padding:2rem; border-radius:16px; text-align:center; position:relative;">
    <h4>Â¿Seguro que deseas eliminar este blog?</h4>
    <div class="mt-4">
      <button class="btn btn-danger" onclick="eliminarFilaConfirmado()">SÃ­, eliminar</button>
      <button class="btn btn-outline-secondary mt-3" onclick="cerrarModalEliminar()">Cancelar</button>
    </div>
  </div>
</div>

<!-- Modal Editar Dato -->
<div class="alinear" id="modalEditarDato" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999;display: flex
;">
  <div style="background:white; max-width:500px; width:90%; padding:4rem; border-radius:16px; position:relative;">
    <button class="btn-close position-absolute end-0 top-0 m-3" onclick="cerrarModalEditar()"></button>
    <h3 class="mb-4">âœï¸ Editar Dato</h3>
    <input type="text" id="editNombre" class="form-control mb-3" placeholder="Nombre">
    <input type="date" id="editFecha" class="form-control mb-3">
    <textarea id="editContenido" class="form-control mb-3" placeholder="Contenido" rows="4"></textarea>

    <button class="btn btn-primary w-100" onclick="guardarEdicionDato()">Guardar cambios</button>
  </div>
  
</div>

<div id="iosModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:9999; align-items:center; justify-content:center;">
  <div class="iosModalContent" style="background:white; padding:1.5rem; border-radius:12px; max-width:400px; width:90%; text-align:center;">
    <h5 id="iosModalTitle"></h5>
    <p id="iosModalMessage"></p>
    <button class="btn btn-primary mt-2" onclick="closeIosModal()">OK</button>
  </div>
</div>

   




   

    
  </div> 
</div> 






<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>   

<!-- DataTables Bootstrap 5 JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

<!-- Firebase Core -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>

<!-- Firestore -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore-compat.js"></script>

<!-- Auth (esto te falta) -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>

<!-- Tu script -->
<script src="js/modules/dashboard.js"></script>
<script src="js/modules/firebase-init.js"></script>
<script src="js/modules/blog-creador.js"></script>
<script src="js/modules/blog-redactor.js"></script>
<script src="js/modules/blog-admin.js"></script>
<script src="js/modules/modales.js"></script>
<script src="js/modules/tabs.js"></script>

</body>
</html>

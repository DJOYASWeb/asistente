
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Compresor</title>
    <link rel="icon" href="https://djoyasweb.github.io/asistente/img/FaviconSoporte.jpg" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
</head>

  <style>

  .image-item {
  display: grid;
  grid-template-columns: 80px 1fr 150px 150px;
  align-items: center;
  gap: 10px;
  border-bottom: 1px solid #ddd;
  padding: 8px 0;
}
.thumb img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 4px;
  border: 1px solid #ccc;
}
.info .name {
  font-weight: 600;
  color: #333;
}
.info .meta {
  font-size: 13px;
  color: #666;
}
.result {
  text-align: right;
  font-size: 13px;
}
.reduction {
  font-weight: bold;
}
.status-cell {
  text-align: right;
}
.status {
  font-size: 13px;
  font-weight: 600;
}
.status.ready {
  color: #28a745;
}
.status.error {
  color: #dc3545;
}
.download-link {
  font-size: 12px;
  color: #007bff;
  text-decoration: none;
}
.download-link:hover {
  text-decoration: underline;
}

/* Estilos para la zona de arrastrar y soltar */
.drop-zone {
    width: 100%;
    height: 200px;
    border: 3px dashed #ccc; /* Borde punteado cl√°sico */
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    cursor: pointer;
    background-color: #f9f9f9;
    transition: all 0.3s ease;
    margin: 20px auto; /* Centrado */
    position: relative;
}

.drop-zone:hover {

    background-color: #f0f0f0;
}

/* Clase que se activa cuando arrastras un archivo encima */
.drop-zone.dragover {
    border-color: #007bff; /* Color azul de √©nfasis */
    background-color: #e9f5ff;
    transform: scale(1.02);
}

.drop-zone-content {
    color: #555;
    pointer-events: none; /* Para que los clics pasen al contenedor padre */
}

.upload-icon {
    margin-bottom: 10px;
    color: #888;
}

.drop-text {
    font-size: 1.1rem;
    margin: 0;
}

.file-name-display {
    margin-top: 10px;
    font-weight: bold;
    color: #007bff;
    font-size: 0.9rem;
    min-height: 20px;
}

  </style>


<body class="protegido" data-theme="light">
  <div class="overlay" id="overlay" onclick="closeMobileSidebar()"></div>

  <!-- Sidebar -->
<div class="sidebar oculta-permisos" id="sidebar">
  <div>
    <h2 onclick="toggleSidebar()" data-tooltip="Dashboard">
      <span class="icon"><i class="fas fa-bars"></i></span>
      <span class="label">
        <img src="https://djoyasweb.github.io/asistente/img/logo.png" width="90px">
      </span>
    </h2>

    <nav>
      <!-- 1Ô∏è‚É£ INICIO -->
      <a href="dashboard.html" data-tab="dashboard" data-tooltip="Inicio" class="menu-item">
        <span class="icon"><i class="fas fa-home"></i></span>
        <span class="label">Inicio</span>
      </a>

      <!-- 2Ô∏è‚É£ CAT√ÅLOGO -->
      <div class="menu-group" data-group="catalogo">
        <a href="#" class="menu-toggle menu-item" data-tooltip="Cat√°logo">
          <span class="icon"><i class="fa-regular fa-address-card"></i></span>
          <span class="label">Cat√°logo</span>
        </a>
        <div class="submenu">
          <a href="catalogo.html" data-tab="catalogo" class="submenu-item">Cat√°logo General</a>
        </div>
      </div>

      <!-- 3Ô∏è‚É£ CONTENIDOS -->
      <div class="menu-group" data-group="contenidos">
        <a href="#" class="menu-toggle menu-item" data-tooltip="Contenidos">
          <span class="icon"><i class="fa-solid fa-photo-film"></i></span>
          <span class="label">Contenidos</span>
        </a>
        <div class="submenu">
          <a href="blog.html" data-tab="blog" class="submenu-item">DJOYAS Blog</a>
          <a href="inspira.html" data-tab="inspira" class="submenu-item">DJOYAS Inspira</a>
        </div>
      </div>

      <!-- 4Ô∏è‚É£ PLANILLAS -->
      <div class="menu-group" data-group="planillas">
        <a href="#" class="menu-toggle menu-item" data-tooltip="Planillas">
          <span class="icon"><i class="fa-solid fa-file-excel"></i></span>
          <span class="label">Planillas</span>
        </a>
        <div class="submenu">
          <a href="#" data-tab="cotizar" class="submenu-item">Cotizar</a>
          <a href="productos.html" data-tab="productos" class="submenu-item">Recategorizar</a>
          <a href="planilla.html" data-tab="planilla" class="submenu-item">Planilla Presta</a>
          <a href="mysql.html" data-tab="mysql" class="submenu-item">MySQL</a>
        </div>
      </div>

      <!-- 5 Reportes -->
      <a href="reportes_clientes.html" data-tab="reportes" data-tooltip="Reportes" class="menu-item">
        <span class="icon"><i class="fas fa-home"></i></span>
        <span class="label">Reportes</span>
      </a>
    </nav>
  </div>

  <div class="bottom-links">
    <a href="compresor.html" data-tab="tareas" class="menu-item">
      <span class="icon"><i class="fa fa-cog"></i></span>
      <span class="label">Comprimir IMG</span>
    </a>
    <a href="tareas.html" data-tab="tareas" class="menu-item">
      <span class="icon"><i class="fas fa-list-check"></i></span>
      <span class="label">Tareas Diarias</span>
    </a>
    <a href="calendario.html" data-tab="calendario" class="menu-item">
      <span class="icon"><i class="fa-solid fa-calendar-days"></i></span>
      <span class="label">Calendario</span>
    </a>
    <a href="configuracion.html" data-tab="configuracion" class="menu-item">
      <span class="icon"><i class="fas fa-cog"></i></span>
      <span class="label">Configuraci√≥n</span>
    </a>
  </div>
</div>

  <!-- Contenido principal -->
  <div class="main-content">
        <div class="topbar">
      <button class="menu-btn" onclick="toggleMobileSidebar()">‚ò∞</button>
      <div class="profile-section">
        <img src="https://i.pravatar.cc/300" alt="Perfil" class="profile-img" id="avatar" onclick="toggleDropdown()" />
        <div class="dropdown-menu" id="dropdown">
          <div class="user-info">
            <div class="user-name"><strong id="userName">Juan P√©rez</strong></div>
            <div class="user-email"><span id="userEmail">juan@correo.com</span></div>
          </div>
          <div class="theme-switch" onclick="toggleTheme()">
            <span class="switch-icon" id="theme-icon">üåô</span>
            <span class="switch-label">Modo oscuro</span>
          </div>
          <a href="settings.html">Configuraci√≥n</a>
          <a href="#" onclick="logout()">Cerrar sesi√≥n</a>
        </div>
      </div>
    </div>



<div class="container">
  <div class="tab-content-ios">

    <!-- TAB CONSTRUCTOR -->
    <div id="constructor" class="tab-section">
      <div class="container ios-card mb-5">
  <h1>Compresor de Im√°genes</h1>

<div id="dropZone" class="drop-zone">
    <div class="drop-zone-content">
        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="upload-icon">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
        <p class="drop-text">Arrastra tu archivo <b>ZIP</b> aqu√≠<br>o haz clic para buscar</p>
        <p id="fileName" class="file-name-display"></p>
    </div>
    <input type="file" id="zipInput" accept=".zip" style="display: none;">
</div>


  <div id="topBar" style="
display:none;
  align-items:center;
  justify-content:space-between;
  background:#fff;
  border:1px solid #ddd;
  padding:10px 15px;
  border-radius:8px;
  margin-bottom:15px;
">
  <div style="flex:1; margin-right:15px;">
    <div id="globalProgressText" style="font-size:14px; color:#555;">Esperando archivo...</div>
    <div style="background:#eee; height:10px; border-radius:5px; overflow:hidden;">
      <div id="globalProgressBar" style="background:#007bff; width:0%; height:100%; transition:width 0.3s;"></div>
    </div>
  </div>
  <button id="downloadAllBtn" disabled
    style="background:#007bff;color:white;border:none;border-radius:5px;padding:8px 15px;cursor:not-allowed;opacity:0.6;">
    Descargar todo
  </button>
</div>



  <div id="progressContainer" class="progress-container"></div>



  </div>
</div>






    

  </div>








<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>   

<!-- DataTables Bootstrap 5 JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

<!-- Firebase Core -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<!-- Tu script -->
<script src="js/modules/firebase-init.js"></script>
<script src="js/modules/modales.js"></script>
<script src="js/modules/tabs.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>
<script src="js/modules/compresor.js"></script>
<script type="module" src="js/modules/checkAuth.js"></script>
<script src="js/modules/permisos-tabs.js"></script>
<script src="js/modules/verificar-tabs.js"></script>
</body>
</html>
